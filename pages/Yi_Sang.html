<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Yi Sang - LCB ID Translations</title>
  <link rel="stylesheet" href="../style.css">
  <link rel="preload" href="https://notherwael.github.io/LCB-ID-TLs/mouse_on.cur" as="image">
  <link rel="preload" href="https://notherwael.github.io/LCB-ID-TLs/assets/sounds/UI_Hover.wav" as="audio">
  <link rel="preload" href="https://notherwael.github.io/LCB-ID-TLs/assets/sounds/UI_Click.wav" as="audio">
</head>
<body>

<button id="back-button" style="display:none;">
  <img src="../assets/Back.png" alt="Back" />
</button>

<div class="overlay">
  <div class="content mikodacs-text">
    <h1>Yi Sang - Voicelines and Translations</h1>

    <div class="gallery">
      <!-- Yi Sang Image Gallery -->
      <div class="image-container" data-image="1">
        <img src="https://notherwael.github.io/LCB-ID-TLs/assets/Yi_Sang/BloomSang.png" alt="Yi Sang Image 1">
      </div>
      <div class="image-container" data-image="2">
        <img src="https://notherwael.github.io/LCB-ID-TLs/assets/Yi_Sang/WSang.png" alt="Yi Sang Image 2">
      </div>
      <div class="image-container" data-image="3">
        <img src="https://notherwael.github.io/LCB-ID-TLs/assets/Yi_Sang/RingSang.png" alt="Yi Sang Image 3">
      </div>
      <div class="image-container" data-image="4">
        <img src="https://notherwael.github.io/LCB-ID-TLs/assets/Yi_Sang/ButterflySang.png" alt="Yi Sang Image 4">
      </div>
      <div class="image-container" data-image="5">
        <img src="https://notherwael.github.io/LCB-ID-TLs/assets/Yi_Sang/LiuSang.png" alt="Yi Sang Image 5">
      </div>
    </div>

    <div id="dynamic-content" class="dynamic-content"></div>
  </div>
</div>

<!-- Sounds -->
<audio src="https://notherwael.github.io/LCB-ID-TLs/assets/sounds/UI_Hover.wav" preload="auto" style="display:none;"></audio>
<audio src="https://notherwael.github.io/LCB-ID-TLs/assets/sounds/UI_Click.wav" preload="auto" style="display:none;"></audio>

<script>
  // Hover and Click Sounds (same as in index.html)
  const hoverSoundTemplate = new Audio('https://notherwael.github.io/LCB-ID-TLs/assets/sounds/UI_Hover.wav');
  hoverSoundTemplate.volume = 0.7;

  const clickSound = new Audio('https://notherwael.github.io/LCB-ID-TLs/assets/sounds/UI_Click.wav');
  clickSound.volume = 0.8;

  let canClickPlay = true;
  const cache = new Map();
  const gallery = document.querySelector('.gallery');
  const dynamicContent = document.getElementById('dynamic-content');
  const backButton = document.getElementById('back-button');

  // Handle hover and click for gallery images
  document.querySelectorAll('.image-container').forEach((imgContainer) => {
    imgContainer.addEventListener('mouseenter', () => {
      const hoverSound = hoverSoundTemplate.cloneNode();
      hoverSound.play().catch(() => {});
    });

    imgContainer.addEventListener('click', function() {
      if (canClickPlay) {
        clickSound.currentTime = 0;
        clickSound.play().catch(() => {});
        canClickPlay = false;
        setTimeout(() => { canClickPlay = true; }, 300);

        const imageId = this.getAttribute('data-image');
        const content = voicelineData[imageId];
        showVoicelineContent(content);
      }
    });
  });

  // Voiceline data
  const voicelineData = {
    "1": {
      voiceline: "Yi Sang Voiceline 1",
      translation: "Translation of Voiceline 1",
      audio: "../assets/voice1.mp3",
      notes: "Translation Notes for Voiceline 1"
    },
    "2": {
      voiceline: "Yi Sang Voiceline 2",
      translation: "Translation of Voiceline 2",
      audio: "../assets/voice2.mp3",
      notes: "Translation Notes for Voiceline 2"
    },
    "3": {
      voiceline: "Yi Sang Voiceline 3",
      translation: "Translation of Voiceline 3",
      audio: "../assets/voice3.mp3",
      notes: "Translation Notes for Voiceline 3"
    },
    "4": {
      voiceline: "Yi Sang Voiceline 4",
      translation: "Translation of Voiceline 4",
      audio: "../assets/voice4.mp3",
      notes: "Translation Notes for Voiceline 4"
    },
    "5": {
      voiceline: "Yi Sang Voiceline 5",
      translation: "Translation of Voiceline 5",
      audio: "../assets/voice5.mp3",
      notes: "Translation Notes for Voiceline 5"
    }
  };

  // Function to display voiceline details
  function showVoicelineContent(content) {
    gallery.style.display = 'none';
    backButton.style.display = 'block';

    // Set dynamic content
    dynamicContent.innerHTML = `
      <div class="image">
        <img src="../assets/Yi_Sang_Photo_${content.voiceline[content.voiceline.length - 1]}.png" alt="Voiceline Image">
      </div>
      <div class="voiceline-details">
        <table>
          <tr><th>Voiceline</th><td>${content.voiceline}</td></tr>
          <tr><th>Translation</th><td>${content.translation}</td></tr>
          <tr><th>Audio Player</th><td><audio controls><source src="${content.audio}" type="audio/mp3"></audio></td></tr>
          <tr><th>Translation Notes</th><td>${content.notes}</td></tr>
        </table>
      </div>
    `;
  }

  // Back button functionality
  backButton.addEventListener('click', () => {
    dynamicContent.innerHTML = '';
    gallery.style.display = 'grid';
    backButton.style.display = 'none';
  });
</script>

</body>
</html>
